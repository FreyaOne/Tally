(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/extUI/extUI"],{"2b6d":function(t,e,a){"use strict";(function(t){a("1b86"),a("921b");o(a("66fd"));var e=o(a("9198"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},4307:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},5599:function(t,e,a){"use strict";var o=a("f703"),n=a.n(o);n.a},"65bc":function(t,e,a){"use strict";a.r(e);var o=a("e8fc"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);e["default"]=n.a},9198:function(t,e,a){"use strict";a.r(e);var o=a("4307"),n=a("65bc");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("5599");var i=a("2877"),c=Object(i["a"])(n["default"],o["a"],o["b"],!1,null,"0b19e913",null);e["default"]=c.exports},e8fc:function(t,e,a){"use strict";(function(t,o){function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){return a.e("components/im-chat/chatinput").then(a.bind(null,"ee16"))},i=n({components:{chatInput:s},data:function(){return{userid:"",username:"",latitude:0,longitude:0,content:"",time:"",index:"",com_index:"",click_id:"",comment_index:"",chatList:[],address:t.getStorageSync("city")+"-"+t.getStorageSync("district")+"-"+t.getStorageSync("poiName"),input_placeholder:"评论",focus:!1,is_reply:!1,showInput:!1,screenHeight:"",platform:"",windowHeight:"",showLoadMore:!1}},mounted:function(){},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){e.screenHeight=t.screenHeight,e.platform=t.platform}}),t.startPullDownRefresh()},onShow:function(){var e=this;t.onWindowResize(function(t){"ios"===e.platform?(e.windowHeight=t.size.windowHeight,e.adjust()):e.screenHeight-t.size.windowHeight>60&&e.windowHeight<=t.size.windowHeight&&(e.windowHeight=t.size.windowHeight,e.adjust())})},onHide:function(){t.offWindowResize()},onReady:function(){var e=this;t.getStorage({key:"userinfo",success:function(t){e.userid=t.data.userid,e.username=t.data.username},fail:function(t){console.log(o(t.data," at pages/tabBar/extUI/extUI.vue:119"))}}),this.longitude=t.getStorageSync("longitude"),this.latitude=t.getStorageSync("latitude"),console.log(o("123213 "+this.userid," at pages/tabBar/extUI/extUI.vue:124"));var a="http://39.107.125.67:8080/socials/v1/"+this.latitude+"&"+this.longitude+"&"+this.userid;console.log(o("url是"," at pages/tabBar/extUI/extUI.vue:126")),console.log(o(a," at pages/tabBar/extUI/extUI.vue:127")),t.request({url:a,success:function(a){0==a.data.code&&(e.chatList=a.data.data,t.setStorageSync("chatList",e.chatList))},fail:function(t){console.log(o(t.data," at pages/tabBar/extUI/extUI.vue:143"))}})},onPullDownRefresh:function(){console.log(o("onPullDownRefresh"," at pages/tabBar/extUI/extUI.vue:161")),setTimeout(function(){t.stopPullDownRefresh()},1e3)},onNavigationBarButtonTap:function(t){0==t.index&&this.navigateTo("../publish/publish")},computed:{},methods:{deleteReview:function(e,a){var n=this;this.index=e,this.com_index=a,console.log(o("测试评论，"," at pages/tabBar/extUI/extUI.vue:180")),console.log(o(this.chatList[e].comments[a].userId," at pages/tabBar/extUI/extUI.vue:181")),console.log(o("31213"+this.userid," at pages/tabBar/extUI/extUI.vue:182")),this.chatList[e].comments[a].userId==this.userid&&t.showModal({content:"确定要删除该条评论吗",cancelText:"取消",confirmText:"确定",success:function(s){s.confirm&&(console.log(o("评论"," at pages/tabBar/extUI/extUI.vue:190")),console.log(o(n.chatList[e].comments[a]," at pages/tabBar/extUI/extUI.vue:191")),t.request({url:"http://39.107.125.67:8080/comments/"+n.chatList[e].comments[a].commentId+"&"+n.chatList[e].comments[a].userId,method:"DELETE",success:function(s){console.log(o("评论"," at pages/tabBar/extUI/extUI.vue:196")),console.log(o(n.chatList[e].comments," at pages/tabBar/extUI/extUI.vue:197")),n.chatList[e].comments.splice(a,1),t.showToast({title:"删除成功",icon:"none",duration:1500})}}))}})},deleteShare:function(e){var a=this;this.index=e,t.showModal({content:"确定要删除该条分享吗",cancelText:"取消",confirmText:"确定",success:function(n){n.confirm&&(console.log(o(a.chatList," at pages/tabBar/extUI/extUI.vue:221")),console.log(o("什么鬼"," at pages/tabBar/extUI/extUI.vue:222")),t.request({url:"http://39.107.125.67:8080/socials/"+a.chatList[e].socialId,method:"DELETE",success:function(n){return 0==n.data.code&&(console.log(o("删除"," at pages/tabBar/extUI/extUI.vue:230")),a.chatList.splice(e,1),t.showToast({title:"删除成功",icon:"none",duration:1500})),!1}}))}})},like:function(e){var a=this;this.index=e,1==this.chatList[e].praise?(this.chatList[e].praise=!1,console.log(o("2311userid是"+this.userid," at pages/tabBar/extUI/extUI.vue:251")),console.log(o("index是"+this.index," at pages/tabBar/extUI/extUI.vue:252")),t.request({url:"http://39.107.125.67:8080/praise",dataType:"json",method:"DELETE",data:{userId:this.userid,socialId:this.chatList[e].socialId},success:function(t){a.text="request success",0==t.data.code?console.log(o("取消点赞成功"," at pages/tabBar/extUI/extUI.vue:266")):(console.log(o("取消点赞失败"," at pages/tabBar/extUI/extUI.vue:268")),console.log(o(t.data," at pages/tabBar/extUI/extUI.vue:269")))},fail:function(t){console.log(o(t.data," at pages/tabBar/extUI/extUI.vue:273"))}})):(this.chatList[e].praise=!0,t.request({url:"http://39.107.125.67:8080/praise",dataType:"json",method:"POST",data:{userId:this.userid,socialId:this.chatList[e].socialId},success:function(t){0==t.data.code?(console.log(o("1111\\\\"+a.chatList[e].praise," at pages/tabBar/extUI/extUI.vue:291")),console.log(o("点赞成功"," at pages/tabBar/extUI/extUI.vue:292"))):(console.log(o("点赞失败"," at pages/tabBar/extUI/extUI.vue:294")),console.log(o(t.data," at pages/tabBar/extUI/extUI.vue:295")))},fail:function(t){console.log(o(t.data," at pages/tabBar/extUI/extUI.vue:299"))}}))},comment:function(e){this.showInput=!0,this.focus=!0,this.index=e,t.setStorageSync("index",this.index)},adjust:function(){}},navigateTo:function(e){t.navigateTo({url:e})},init_input:function(){this.showInput=!1,this.focus=!1,this.input_placeholder="评论",this.is_reply=!1}},"onNavigationBarButtonTap",function(e){t.navigateTo({url:"/pages/tabBar/extUI/publish"})});e.default=i}).call(this,a("6e42")["default"],a("0de9")["default"])},f703:function(t,e,a){}},[["2b6d","common/runtime","common/vendor"]]]);