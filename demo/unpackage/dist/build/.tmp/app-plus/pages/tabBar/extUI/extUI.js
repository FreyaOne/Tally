(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/extUI/extUI"],{"0600":function(t,e,n){"use strict";(function(t){n("d105"),n("921b");i(n("66fd"));var e=i(n("9fac"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"4ec1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"5e95":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("2526"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){return n.e("components/im-chat/chatinput").then(n.bind(null,"1a05"))},c=u({components:{chatInput:a},data:function(){return{posts:o.default,user_id:4,username:"",index:"",comment_index:"",input_placeholder:"评论",focus:!1,is_reply:!1,showInput:!1,screenHeight:"",platform:"",windowHeight:"",loadMoreText:"加载中...",showLoadMore:!1}},mounted:function(){var e=this;t.getStorage({key:"userinfo",success:function(t){console.log(i("获取成功"," at pages/tabBar/extUI/extUI.vue:92")),e.username=t.data.username},fail:function(t){console.log(i(t.data," at pages/tabBar/extUI/extUI.vue:96"))}})},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){e.screenHeight=t.screenHeight,e.platform=t.platform}}),t.startPullDownRefresh()},onShow:function(){var e=this;t.onWindowResize(function(t){"ios"===e.platform?(e.windowHeight=t.size.windowHeight,e.adjust()):e.screenHeight-t.size.windowHeight>60&&e.windowHeight<=t.size.windowHeight&&(e.windowHeight=t.size.windowHeight,e.adjust())})},onHide:function(){t.offWindowResize()},onUnload:function(){this.max=0,this.data=[],this.loadMoreText="加载更多",this.showLoadMore=!1},onReachBottom:function(){var t=this;console.log(i("onReachBottom"," at pages/tabBar/extUI/extUI.vue:132")),this.showLoadMore=!0,setTimeout(function(){t.posts.length<20?t.posts=t.posts.concat(t.posts):t.loadMoreText="暂无更多"},1e3)},onPullDownRefresh:function(){console.log(i("onPullDownRefresh"," at pages/tabBar/extUI/extUI.vue:144")),setTimeout(function(){t.stopPullDownRefresh()},1e3)},onNavigationBarButtonTap:function(t){0==t.index&&this.navigateTo("../publish/publish")},computed:{},methods:{test:function(){this.navigateTo("../test/test")},navigateTo:function(e){t.navigateTo({url:e})},like:function(t){0===this.posts[t].islike?(this.posts[t].islike=1,this.posts[t].like.push({uid:this.user_id,username:","+this.username})):(this.posts[t].islike=0,this.posts[t].like.splice(this.posts[t].like.indexOf({uid:this.user_id,username:","+this.username}),1))},comment:function(t){this.showInput=!0,this.focus=!0,this.index=t},adjust:function(){},reply:function(t,e){this.is_reply=!0,this.showInput=!0;var n=this.posts[t].comments.comment[e].username;this.input_placeholder="回复"+n,this.index=t,this.comment_index=e,this.focus=!0},blur:function(){this.init_input()},send_comment:function(t){if(this.is_reply)var e=this.posts[this.index].comments.comment[this.comment_index].username,n="回复"+e+":"+t.content;else n=t.content;this.posts[this.index].comments.total+=1,this.posts[this.index].comments.comment.push({uid:this.user_id,username:this.username,content:n}),this.init_input()},init_input:function(){this.showInput=!1,this.focus=!1,this.input_placeholder="评论",this.is_reply=!1},previewImage:function(e,n){var i=e[n];t.previewImage({current:i,urls:e})},goPublish:function(){t.navigateTo({url:"./publish/publish",success:function(t){},fail:function(){},complete:function(){}})}}},"onNavigationBarButtonTap",function(e){t.navigateTo({url:"/pages/tabBar/extUI/publish"})});e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},"9fac":function(t,e,n){"use strict";n.r(e);var i=n("4ec1"),o=n("bd4c");for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);n("fc65");var u=n("2877"),a=Object(u["a"])(o["default"],i["a"],i["b"],!1,null,"20ee79b4",null);e["default"]=a.exports},a69b:function(t,e,n){},bd4c:function(t,e,n){"use strict";n.r(e);var i=n("5e95"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=o.a},fc65:function(t,e,n){"use strict";var i=n("a69b"),o=n.n(i);o.a}},[["0600","common/runtime","common/vendor"]]]);