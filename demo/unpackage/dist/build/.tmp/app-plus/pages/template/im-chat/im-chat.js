(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/template/im-chat/im-chat"],{"0fa0":function(t,e,n){"use strict";n.r(e);var o=n("d27a"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},1345:function(t,e,n){},"1d96":function(t,e,n){"use strict";var o=n("1345"),i=n.n(o);i.a},"53b0":function(t,e,n){"use strict";(function(t){n("1b86"),n("921b");o(n("66fd"));var e=o(n("f04a"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"8f6d":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},d27a:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return n.e("components/im-chat/chatinput").then(n.bind(null,"ee16"))},a=function(){return n.e("components/im-chat/messageshow").then(n.bind(null,"6a5b"))},c={data:function(){return{name:"xcecd@qq.com",style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0},scrollTop:0,messages:[{user:"home",type:"head",content:"你好!"}]}},components:{chatInput:i,messageShow:a},onLoad:function(){var e=t.getSystemInfoSync();this.style.pageHeight=e.windowHeight,this.style.contentViewHeight=e.windowHeight-t.getSystemInfoSync().screenWidth/750*100},methods:{getInputMessage:function(t){this.addMessage("customer",t.content,!1),this.toRobot(t.content)},addMessage:function(t,e,n,o){var i=this;i.messages.push({user:t,content:e,hasSub:n,subcontent:o})},scrollToBottom:function(){var e=this,n=t.createSelectorQuery();n.selectAll(".m-item").boundingClientRect(),n.select("#scrollview").boundingClientRect(),n.exec(function(t){e.style.mitemHeight=0,t[0].forEach(function(t){e.style.mitemHeight=e.style.mitemHeight+t.height+20}),e.style.mitemHeight>e.style.contentViewHeight&&(e.scrollTop=e.style.mitemHeight-e.style.contentViewHeight)})},toRobot:function(e){var n=this,i="http://www.tuling123.com/openapi/api";t.request({url:i,data:{key:"acfbca724ea1b5db96d2eef88ce677dc",info:e,userid:"uni-test"},success:function(t){console.log(o("s",t," at pages/template/im-chat/im-chat.vue:93")),n.addMessage("home",t.data.text,!1),n.scrollToBottom(),console.log(o("request success:"+t.data.text," at pages/template/im-chat/im-chat.vue:96"))},fail:function(e){console.log(o("request fail",e," at pages/template/im-chat/im-chat.vue:99")),t.showModal({content:e.errMsg,showCancel:!1})}})}}};e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},f04a:function(t,e,n){"use strict";n.r(e);var o=n("8f6d"),i=n("0fa0");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("1d96");var c=n("2877"),s=Object(c["a"])(i["default"],o["a"],o["b"],!1,null,null,null);e["default"]=s.exports}},[["53b0","common/runtime","common/vendor"]]]);